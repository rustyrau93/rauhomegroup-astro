---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';

// Get testimonials
const testimonials = await getCollection('testimonials');
const sortedTestimonials = testimonials.sort((a, b) => a.data.order - b.data.order);
---

<BaseLayout 
  title="Home"
  description="Rusty Rau - San Diego Real Estate Expert. Born and raised in San Diego with 8 years of experience helping buyers and sellers achieve their real estate goals."
>
  <!-- Hero Section -->
  <section class="hero" aria-label="Welcome to Rau Home Group">
    <div class="hero-background">
      <img src="https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=1920&q=80" 
           alt="Beautiful San Diego skyline at sunset" 
           class="hero-image"
           width="1920" 
           height="1080"
           loading="eager">
      <div class="hero-overlay"></div>
    </div>
    <div class="hero-content">
      <h1 class="hero-title animate-fade-in">Find Your Place in<br><span class="accent">San Diego</span></h1>
      <p class="hero-subtitle animate-fade-in-delay">Born and raised here. 8 years helping San Diegans buy and sell homes.</p>
      <div class="hero-cta-group animate-fade-in-delay-2">
        <a href="/contact" class="cta-button cta-button-primary pulse-glow">Let's Talk</a>
      </div>
    </div>
    <div class="scroll-indicator" aria-hidden="true">
      <span>Scroll</span>
      <div class="scroll-line"></div>
    </div>
  </section>

  <!-- About Section -->
  <section id="about" class="about" aria-labelledby="about-heading">
    <div class="container">
      <div class="about-grid">
        <div class="about-image-container">
          <img src="/images/rusty-headshot.jpg" 
               alt="Rusty Rau, San Diego Real Estate Agent smiling in professional attire" 
               class="about-image"
               width="450"
               height="600"
               loading="lazy">
          <div class="about-image-accent" aria-hidden="true"></div>
        </div>
        <div class="about-content">
          <h2 id="about-heading" class="section-title">Meet Rusty Rau</h2>
          <p class="about-text">
            I was born and raised in San Diego, and this city has always been a huge part of who I am. Growing up, my mom worked in interior design, and I spent a lot of time tagging along to her job sites. At the time, I didn't realize it, but those early experiences sparked a genuine appreciation for homes, neighborhoods, and how people live in the spaces they choose.
          </p>
          <p class="about-text">
            As I got older, I naturally gravitated toward people-focused work and found my strengths in connecting with clients, understanding their needs, and guiding them through one of life's biggest decisions. Real estate isn't just about transactions for me—it's about helping people find where they belong.
          </p>
          <p class="about-text">
            Whether you're a first-time homebuyer navigating the competitive San Diego market, a family looking to upsize, or an investor seeking the right opportunity, I bring patience, market expertise, and honest guidance to every relationship.
          </p>
          <div class="about-credentials" role="list" aria-label="Specialties">
            <div class="credential" role="listitem">
              <span class="credential-icon"><i class="fas fa-home" aria-hidden="true"></i></span>
              <span>Buyer's Agent</span>
            </div>
            <div class="credential" role="listitem">
              <span class="credential-icon"><i class="fas fa-clipboard-list" aria-hidden="true"></i></span>
              <span>Listing Agent</span>
            </div>
            <div class="credential" role="listitem">
              <span class="credential-icon"><i class="fas fa-medal" aria-hidden="true"></i></span>
              <span>Military/Veterans</span>
            </div>
            <div class="credential" role="listitem">
              <span class="credential-icon"><i class="fas fa-gem" aria-hidden="true"></i></span>
              <span>Luxury Homes</span>
            </div>
            <div class="credential" role="listitem">
              <span class="credential-icon"><i class="fas fa-hard-hat" aria-hidden="true"></i></span>
              <span>New Construction</span>
            </div>
            <div class="credential" role="listitem">
              <span class="credential-icon"><i class="fas fa-chart-line" aria-hidden="true"></i></span>
              <span>Investment Properties</span>
            </div>
          </div>
          <a href="/contact" class="cta-button">Let's Connect</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Success Stories Section -->
  <section class="success-stories" aria-labelledby="stories-heading">
    <div class="container">
      <h2 id="stories-heading" class="section-title center">Success Stories</h2>
      
      <div class="stories-grid">
        <article class="story-card">
          <div class="story-image">
            <img src="https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3?w=600&q=80" 
                 alt="Charming Normal Heights craftsman home with white exterior"
                 width="600"
                 height="400"
                 loading="lazy">
          </div>
          <div class="story-content">
            <span class="story-tag">First-Time Buyers</span>
            <h3>Won in a 12-Offer Situation</h3>
            <p class="story-address"><i class="fas fa-map-marker-alt" aria-hidden="true"></i> 3542 Meade Ave, Normal Heights, CA 92116</p>
            <p>Daniel and his wife were competing against 11 other offers in Normal Heights. Through strategic offer writing and direct communication with the listing agent, we secured their dream home without significantly overpaying.</p>
            <div class="story-stats" role="list" aria-label="Transaction statistics">
              <div class="story-stat" role="listitem">
                <span class="story-stat-value">12</span>
                <span class="story-stat-label">Competing Offers</span>
              </div>
              <div class="story-stat" role="listitem">
                <span class="story-stat-value">7</span>
                <span class="story-stat-label">Days to Close</span>
              </div>
              <div class="story-stat" role="listitem">
                <span class="story-stat-value">$15K</span>
                <span class="story-stat-label">Under Budget</span>
              </div>
            </div>
          </div>
        </article>
        
        <article class="story-card">
          <div class="story-image">
            <img src="https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=600&q=80" 
                 alt="Modern Oceanside home with beautiful landscaping"
                 width="600"
                 height="400"
                 loading="lazy">
          </div>
          <div class="story-content">
            <span class="story-tag">Seller Success</span>
            <h3>Sold $45K Over Asking</h3>
            <p class="story-address"><i class="fas fa-map-marker-alt" aria-hidden="true"></i> 1875 Mira Costa Dr, Oceanside, CA 92056</p>
            <p>Paul's home in Mira Costa, Oceanside needed the right marketing strategy. With professional staging, photography, and a carefully timed listing, we generated multiple offers and sold well above asking price.</p>
            <div class="story-stats" role="list" aria-label="Transaction statistics">
              <div class="story-stat" role="listitem">
                <span class="story-stat-value">$45K</span>
                <span class="story-stat-label">Over Asking</span>
              </div>
              <div class="story-stat" role="listitem">
                <span class="story-stat-value">5</span>
                <span class="story-stat-label">Days on Market</span>
              </div>
              <div class="story-stat" role="listitem">
                <span class="story-stat-value">8</span>
                <span class="story-stat-label">Offers Received</span>
              </div>
            </div>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- Testimonials Section -->
  <section id="testimonials" class="testimonials" aria-labelledby="testimonials-heading">
    <div class="container">
      <h2 id="testimonials-heading" class="section-title center">What Clients Say</h2>
      <p class="section-subtitle light">Every review is 5 stars. Here's what clients are saying about working with Rusty.</p>
      
      <div class="testimonials-slider">
        <div class="testimonials-track">
          {sortedTestimonials.map((testimonial, index) => (
            <article class:list={['testimonial-card', { featured: index === 1 }]}>
              <div class="stars" aria-label="5 out of 5 stars">
                <i class="fas fa-star" aria-hidden="true"></i>
                <i class="fas fa-star" aria-hidden="true"></i>
                <i class="fas fa-star" aria-hidden="true"></i>
                <i class="fas fa-star" aria-hidden="true"></i>
                <i class="fas fa-star" aria-hidden="true"></i>
              </div>
              <blockquote class="testimonial-text">"{testimonial.data.quote}"</blockquote>
              <footer class="testimonial-author">
                <cite class="author-name">{testimonial.data.clientName}</cite>
                {testimonial.data.clientLocation && (
                  <span class="author-detail">
                    {testimonial.data.type === 'buyer' ? 'Bought' : testimonial.data.type === 'seller' ? 'Sold' : 'Bought and sold'} a home in {testimonial.data.clientLocation}
                  </span>
                )}
              </footer>
            </article>
          ))}
        </div>
      </div>
      
      <nav class="testimonials-nav" aria-label="Testimonial navigation">
        <button class="testimonial-nav-btn prev" aria-label="Previous testimonial"><i class="fas fa-chevron-left" aria-hidden="true"></i></button>
        <div class="testimonial-dots" role="tablist" aria-label="Testimonial pages"></div>
        <button class="testimonial-nav-btn next" aria-label="Next testimonial"><i class="fas fa-chevron-right" aria-hidden="true"></i></button>
      </nav>
    </div>
  </section>

  <!-- Services Preview Section -->
  <section class="services-preview" aria-labelledby="services-heading">
    <div class="container">
      <h2 id="services-heading" class="section-title center">How I Can Help</h2>
      <div class="services-grid">
        <article class="service-card">
          <div class="service-icon"><i class="fas fa-search-dollar" aria-hidden="true"></i></div>
          <h3>Buying a Home</h3>
          <p>Navigate the competitive San Diego market with confidence. From pre-approval to closing, I'll guide you every step of the way.</p>
          <a href="/buyers" class="service-link">Learn More <i class="fas fa-arrow-right" aria-hidden="true"></i></a>
        </article>
        <article class="service-card">
          <div class="service-icon"><i class="fas fa-hand-holding-usd" aria-hidden="true"></i></div>
          <h3>Selling Your Home</h3>
          <p>Maximize your home's value with strategic pricing, professional marketing, and expert negotiation to get you the best results.</p>
          <a href="/sellers" class="service-link">Learn More <i class="fas fa-arrow-right" aria-hidden="true"></i></a>
        </article>
      </div>
    </div>
  </section>

  <!-- Recent Sales Section -->
  <section class="recent-sales" aria-labelledby="sales-heading">
    <div class="container">
      <h2 id="sales-heading" class="section-title center">Recently Sold</h2>
      <p class="section-subtitle">Recent wins for my clients</p>
      
      <div class="sales-grid">
        <article class="sale-card">
          <div class="sale-image">
            <img src="https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=600&q=80" 
                 alt="Modern single-family home in Encinitas with palm trees"
                 width="600"
                 height="400"
                 loading="lazy">
            <span class="sale-badge">SOLD</span>
          </div>
          <div class="sale-content">
            <div class="sale-price">$1,125,000</div>
            <p class="sale-location">Encinitas</p>
            <p class="sale-result"><i class="fas fa-arrow-up" aria-hidden="true"></i> $25K over asking</p>
          </div>
        </article>
        
        <article class="sale-card">
          <div class="sale-image">
            <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=600&q=80" 
                 alt="Luxury home with pool in Carmel Valley"
                 width="600"
                 height="400"
                 loading="lazy">
            <span class="sale-badge">SOLD</span>
          </div>
          <div class="sale-content">
            <div class="sale-price">$1,450,000</div>
            <p class="sale-location">Carmel Valley</p>
            <p class="sale-result"><i class="fas fa-clock" aria-hidden="true"></i> 6 days on market</p>
          </div>
        </article>
        
        <article class="sale-card">
          <div class="sale-image">
            <img src="https://images.unsplash.com/photo-1613490493576-7fde63acd811?w=600&q=80" 
                 alt="Contemporary oceanview home in La Jolla"
                 width="600"
                 height="400"
                 loading="lazy">
            <span class="sale-badge">SOLD</span>
          </div>
          <div class="sale-content">
            <div class="sale-price">$2,495,000</div>
            <p class="sale-location">La Jolla</p>
            <p class="sale-result"><i class="fas fa-handshake" aria-hidden="true"></i> Represented buyer</p>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- Deal of the Week Section -->
  <section id="listings" class="deal-of-week" aria-labelledby="deal-heading">
    <div class="container">
      <div class="deal-grid">
        <div class="deal-content">
          <h2 id="deal-heading" class="section-title">Deal of the Week</h2>
          <p class="deal-description">Every week, I scour the San Diego market to find one standout property - a home that's priced right, move-in ready, and won't last long. This is the kind of deal I'd tell my friends about.</p>
          
          <div class="deal-why">
            <h3>Why This Home?</h3>
            <ul class="deal-highlights">
              <li><i class="fas fa-check-circle" aria-hidden="true"></i> $100K price drop in 2 weeks - motivated seller</li>
              <li><i class="fas fa-check-circle" aria-hidden="true"></i> Priced below market ($678/sqft vs $697 avg)</li>
              <li><i class="fas fa-check-circle" aria-hidden="true"></i> 10/10 GreatSchools rating (Scripps Ranch High)</li>
              <li><i class="fas fa-check-circle" aria-hidden="true"></i> Owned solar + new HVAC - move-in ready</li>
            </ul>
          </div>
          
          <div class="deal-cta-group">
            <a href="/contact" class="cta-button">Get Full Details</a>
          </div>
        </div>
        
        <div class="deal-property">
          <article class="listing-card featured-listing">
            <span class="listing-badge">Deal of the Week</span>
            <div class="listing-image">
              <img src="https://photos.zillowstatic.com/fp/41c80c2799b2863d2a83bbb3df05aa17-cc_ft_960.jpg" 
                   alt="12676 Legacy Rd - 4 bed, 3 bath Scripps Ranch home with canyon views"
                   width="800"
                   height="600"
                   loading="lazy">
              <div class="listing-overlay">
                <a href="/contact" class="listing-btn">Schedule Tour</a>
              </div>
            </div>
            <div class="listing-content">
              <div class="listing-price">$1,575,000</div>
              <h3 class="listing-address">12676 Legacy Rd</h3>
              <p class="listing-location"><i class="fas fa-map-marker-alt" aria-hidden="true"></i> Scripps Ranch, CA 92131</p>
              <div class="listing-specs">
                <span><i class="fas fa-bed" aria-hidden="true"></i> 4 Beds</span>
                <span><i class="fas fa-bath" aria-hidden="true"></i> 3 Baths</span>
                <span><i class="fas fa-ruler-combined" aria-hidden="true"></i> 2,323 SF</span>
              </div>
              <div class="listing-meta">
                <span class="listing-dom"><i class="fas fa-clock" aria-hidden="true"></i> 23 days on market • 2 price cuts</span>
              </div>
            </div>
          </article>
        </div>
      </div>
      
      <!-- Weekly Email Signup -->
      <div id="deal-signup" class="deal-signup-box">
        <div class="signup-content">
          <i class="fas fa-envelope-open-text signup-icon" aria-hidden="true"></i>
          <div class="signup-text">
            <h3>Get Weekly Deals</h3>
            <p>Get my Deal of the Week delivered to your inbox every Friday.</p>
          </div>
        </div>
        <form class="signup-form" aria-label="Newsletter signup">
          <label for="deal-email" class="visually-hidden">Email address</label>
          <input type="email" id="deal-email" name="email" placeholder="Enter your email" required autocomplete="email">
          <button type="submit" class="cta-button">Subscribe</button>
        </form>
      </div>
    </div>
  </section>

  <!-- San Diego Neighborhoods Slider -->
  <section id="areas" class="neighborhoods-fullwidth" aria-labelledby="neighborhoods-heading">
    <header class="neighborhoods-header">
      <h2 id="neighborhoods-heading">Neighborhoods</h2>
      <nav class="neighborhoods-nav" aria-label="Neighborhood slider navigation">
        <button class="nav-text prev" aria-label="Previous neighborhoods">PREVIOUS</button>
        <span class="nav-divider" aria-hidden="true">|</span>
        <button class="nav-text next" aria-label="Next neighborhoods">NEXT</button>
      </nav>
    </header>
    
    <div class="neighborhoods-slider" id="neighborhoods-slider" role="region" aria-label="San Diego neighborhoods gallery">
      <a href="/neighborhoods/la-jolla" class="neighborhood-slide">
        <img src="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=600&q=80" 
             alt="La Jolla coastal beach with cliffs"
             width="600"
             height="450"
             loading="lazy">
        <div class="slide-overlay"></div>
        <span class="slide-name">LA JOLLA</span>
        <span class="slide-cta">Learn More</span>
      </a>
      <a href="/neighborhoods/del-mar" class="neighborhood-slide">
        <img src="https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=600&q=80" 
             alt="Del Mar luxury home with landscaping"
             width="600"
             height="450"
             loading="lazy">
        <div class="slide-overlay"></div>
        <span class="slide-name">DEL MAR</span>
        <span class="slide-cta">Learn More</span>
      </a>
      <a href="/neighborhoods/pacific-beach" class="neighborhood-slide">
        <img src="https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=600&q=80" 
             alt="Pacific Beach coastal community"
             width="600"
             height="450"
             loading="lazy">
        <div class="slide-overlay"></div>
        <span class="slide-name">OCEAN, MISSION & PACIFIC BEACHES</span>
        <span class="slide-cta">Learn More</span>
      </a>
      <a href="/neighborhoods/hillcrest" class="neighborhood-slide">
        <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=600&q=80" 
             alt="Hillcrest urban neighborhood"
             width="600"
             height="450"
             loading="lazy">
        <div class="slide-overlay"></div>
        <span class="slide-name">HILLCREST & MISSION HILLS</span>
        <span class="slide-cta">Learn More</span>
      </a>
      <a href="/neighborhoods/carlsbad" class="neighborhood-slide">
        <img src="https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=600&q=80" 
             alt="North County coastal homes"
             width="600"
             height="450"
             loading="lazy">
        <div class="slide-overlay"></div>
        <span class="slide-name">NORTH COUNTY COASTAL</span>
        <span class="slide-cta">Learn More</span>
      </a>
      <a href="/neighborhoods/carmel-valley" class="neighborhood-slide">
        <img src="https://images.unsplash.com/photo-1449844908441-8829872d2647?w=600&q=80" 
             alt="Carmel Valley family neighborhood"
             width="600"
             height="450"
             loading="lazy">
        <div class="slide-overlay"></div>
        <span class="slide-name">CARMEL VALLEY</span>
        <span class="slide-cta">Learn More</span>
      </a>
      <a href="/neighborhoods/poway" class="neighborhood-slide">
        <img src="https://images.unsplash.com/photo-1600566753086-00f18fb6b3ea?w=600&q=80" 
             alt="Poway suburban community"
             width="600"
             height="450"
             loading="lazy">
        <div class="slide-overlay"></div>
        <span class="slide-name">POWAY & SCRIPPS RANCH</span>
        <span class="slide-cta">Learn More</span>
      </a>
      <a href="/neighborhoods/downtown-gaslamp" class="neighborhood-slide">
        <img src="https://images.unsplash.com/photo-1600573472550-8090b5e0745e?w=600&q=80" 
             alt="Downtown San Diego skyline"
             width="600"
             height="450"
             loading="lazy">
        <div class="slide-overlay"></div>
        <span class="slide-name">DOWNTOWN & GASLAMP</span>
        <span class="slide-cta">Learn More</span>
      </a>
      <a href="/neighborhoods/point-loma" class="neighborhood-slide">
        <img src="https://images.unsplash.com/photo-1599809275671-b5942cabc7a2?w=600&q=80" 
             alt="Point Loma peninsula view"
             width="600"
             height="450"
             loading="lazy">
        <div class="slide-overlay"></div>
        <span class="slide-name">POINT LOMA</span>
        <span class="slide-cta">Learn More</span>
      </a>
      <a href="/neighborhoods/coronado" class="neighborhood-slide">
        <img src="https://images.unsplash.com/photo-1602002418082-a4443e081dd1?w=600&q=80" 
             alt="Coronado Island beachfront"
             width="600"
             height="450"
             loading="lazy">
        <div class="slide-overlay"></div>
        <span class="slide-name">CORONADO</span>
        <span class="slide-cta">Learn More</span>
      </a>
      <a href="/neighborhoods/rancho-santa-fe" class="neighborhood-slide">
        <img src="https://images.unsplash.com/photo-1605276374104-dee2a0ed3cd6?w=600&q=80" 
             alt="Rancho Santa Fe luxury estate"
             width="600"
             height="450"
             loading="lazy">
        <div class="slide-overlay"></div>
        <span class="slide-name">RANCHO SANTA FE</span>
        <span class="slide-cta">Learn More</span>
      </a>
      <a href="/neighborhoods/eastlake-chula-vista" class="neighborhood-slide">
        <img src="https://images.unsplash.com/photo-1580587771525-78b9dba3b914?w=600&q=80" 
             alt="Eastlake master-planned community"
             width="600"
             height="450"
             loading="lazy">
        <div class="slide-overlay"></div>
        <span class="slide-name">EASTLAKE & CHULA VISTA</span>
        <span class="slide-cta">Learn More</span>
      </a>
      <a href="/neighborhoods" class="neighborhood-slide neighborhood-slide-more">
        <div class="slide-more-content">
          <i class="fas fa-plus-circle" style="font-size: 3rem; color: var(--color-gold); margin-bottom: 1rem;" aria-hidden="true"></i>
          <span class="slide-name">VIEW ALL NEIGHBORHOODS</span>
          <span class="slide-cta">Explore More</span>
        </div>
      </a>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="faq-section" aria-labelledby="faq-heading">
    <div class="container">
      <h2 id="faq-heading" class="section-title center">Common Questions</h2>
      <p class="section-subtitle">Answers to questions I hear most often from buyers and sellers</p>
      
      <div class="faq-grid">
        <div class="faq-column">
          <div class="faq-item">
            <button class="faq-question" aria-expanded="false" aria-controls="faq-1">
              <span>How competitive is the San Diego market right now?</span>
              <i class="fas fa-plus" aria-hidden="true"></i>
            </button>
            <div class="faq-answer" id="faq-1" role="region" aria-hidden="true">
              <p>San Diego remains competitive, especially for well-priced homes in desirable areas. Most properties receive multiple offers within the first week. However, with the right strategy and an experienced agent, buyers can still win without significantly overpaying. I help my clients stand out with strong offer terms beyond just price.</p>
            </div>
          </div>
          <div class="faq-item">
            <button class="faq-question" aria-expanded="false" aria-controls="faq-2">
              <span>How long does it take to buy a home in San Diego?</span>
              <i class="fas fa-plus" aria-hidden="true"></i>
            </button>
            <div class="faq-answer" id="faq-2" role="region" aria-hidden="true">
              <p>Once you find the right home and your offer is accepted, closing typically takes 30-45 days. The entire process from starting your search to getting keys usually takes 2-4 months, depending on your criteria and market conditions. Being pre-approved before you start looking significantly speeds up the process.</p>
            </div>
          </div>
          <div class="faq-item">
            <button class="faq-question" aria-expanded="false" aria-controls="faq-3">
              <span>Do I need to be pre-approved before looking at homes?</span>
              <i class="fas fa-plus" aria-hidden="true"></i>
            </button>
            <div class="faq-answer" id="faq-3" role="region" aria-hidden="true">
              <p>While not required to tour homes, being pre-approved is essential before making an offer. It shows sellers you're a serious buyer and tells you exactly what you can afford. I recommend getting pre-approved early so when you find "the one," you're ready to move quickly.</p>
            </div>
          </div>
        </div>
        <div class="faq-column">
          <div class="faq-item">
            <button class="faq-question" aria-expanded="false" aria-controls="faq-4">
              <span>What's the best time of year to sell in San Diego?</span>
              <i class="fas fa-plus" aria-hidden="true"></i>
            </button>
            <div class="faq-answer" id="faq-4" role="region" aria-hidden="true">
              <p>Spring (March-May) traditionally sees the most buyer activity in San Diego, but our mild climate means the market stays active year-round. Summer attracts families wanting to move before school starts, while fall often has less competition. The best time to sell depends on your personal situation more than the calendar.</p>
            </div>
          </div>
          <div class="faq-item">
            <button class="faq-question" aria-expanded="false" aria-controls="faq-5">
              <span>How much do your services cost as a buyer?</span>
              <i class="fas fa-plus" aria-hidden="true"></i>
            </button>
            <div class="faq-answer" id="faq-5" role="region" aria-hidden="true">
              <p>In most cases, the seller pays the buyer's agent commission, so my services as your buyer's agent cost you nothing out of pocket. You get full representation, expert guidance, and someone fighting for your best interests at no direct cost to you.</p>
            </div>
          </div>
          <div class="faq-item">
            <button class="faq-question" aria-expanded="false" aria-controls="faq-6">
              <span>Should I sell my current home before buying?</span>
              <i class="fas fa-plus" aria-hidden="true"></i>
            </button>
            <div class="faq-answer" id="faq-6" role="region" aria-hidden="true">
              <p>This depends on your financial situation and risk tolerance. Selling first gives you a stronger position as a buyer (no contingencies) and clarity on your budget. Buying first avoids the stress of moving twice but requires managing two mortgages temporarily. I can help you evaluate both options based on your specific circumstances.</p>
            </div>
          </div>
        </div>
      </div>
      
      <div class="faq-cta">
        <p>Have a question that's not answered here?</p>
        <a href="/contact" class="cta-button secondary">Ask Rusty</a>
      </div>
    </div>
  </section>

  <Fragment slot="scripts">
    <script>
      // FAQ Accordion
      document.addEventListener('DOMContentLoaded', () => {
        const faqButtons = document.querySelectorAll('.faq-question');
        
        faqButtons.forEach(button => {
          button.addEventListener('click', () => {
            const isExpanded = button.getAttribute('aria-expanded') === 'true';
            const answer = button.nextElementSibling as HTMLElement;
            
            // Close all other FAQs
            faqButtons.forEach(otherButton => {
              if (otherButton !== button) {
                otherButton.setAttribute('aria-expanded', 'false');
                const otherAnswer = otherButton.nextElementSibling as HTMLElement;
                if (otherAnswer) {
                  otherAnswer.setAttribute('aria-hidden', 'true');
                  otherAnswer.style.maxHeight = '0';
                }
                const icon = otherButton.querySelector('i');
                if (icon) {
                  icon.classList.remove('fa-minus');
                  icon.classList.add('fa-plus');
                }
              }
            });
            
            // Toggle current FAQ
            button.setAttribute('aria-expanded', (!isExpanded).toString());
            if (answer) {
              answer.setAttribute('aria-hidden', isExpanded.toString());
              answer.style.maxHeight = isExpanded ? '0' : answer.scrollHeight + 'px';
            }
            
            const icon = button.querySelector('i');
            if (icon) {
              icon.classList.toggle('fa-plus', isExpanded);
              icon.classList.toggle('fa-minus', !isExpanded);
            }
          });
        });

        // Testimonials slider
        const track = document.querySelector('.testimonials-track') as HTMLElement;
        const prevBtn = document.querySelector('.testimonial-nav-btn.prev');
        const nextBtn = document.querySelector('.testimonial-nav-btn.next');
        
        if (track && prevBtn && nextBtn) {
          let currentIndex = 0;
          const cards = track.querySelectorAll('.testimonial-card');
          const cardCount = cards.length;
          
          const updateSlider = () => {
            const cardWidth = (cards[0] as HTMLElement).offsetWidth + 32; // Include gap
            track.style.transform = `translateX(-${currentIndex * cardWidth}px)`;
          };
          
          prevBtn.addEventListener('click', () => {
            currentIndex = Math.max(0, currentIndex - 1);
            updateSlider();
          });
          
          nextBtn.addEventListener('click', () => {
            currentIndex = Math.min(cardCount - 1, currentIndex + 1);
            updateSlider();
          });
        }

        // Neighborhoods slider
        const neighborhoodSlider = document.getElementById('neighborhoods-slider');
        const neighborhoodPrev = document.querySelector('.neighborhoods-nav .prev');
        const neighborhoodNext = document.querySelector('.neighborhoods-nav .next');
        
        if (neighborhoodSlider && neighborhoodPrev && neighborhoodNext) {
          neighborhoodPrev.addEventListener('click', () => {
            neighborhoodSlider.scrollBy({ left: -400, behavior: 'smooth' });
          });
          
          neighborhoodNext.addEventListener('click', () => {
            neighborhoodSlider.scrollBy({ left: 400, behavior: 'smooth' });
          });
        }
      });
    </script>
  </Fragment>
</BaseLayout>
